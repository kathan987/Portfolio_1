/* ==========================================================================
   UNIVERSAL MOBILE FIXES V8 - NAME RESTORED & BUGS FIXED - FINAL VERSION
   ========================================================================== */

/* ================================
   CRITICAL BUG FIXES (TOP PRIORITY)
   ================================ */

/* ✅ FIX 1: Section Wrapper to Contain Overflow */
.section-wrapper {
  width: 100%;
  overflow-x: hidden;
  position: relative;
}

/* ✅ FIX 2: Guaranteed Color Override for Bug */
[data-mode="personal"] .marquee-header .accent,
[data-mode="personal"] .portfolio-title .accent,
[data-mode="personal"] .tools-title, /* Target the whole title for consistency */
[data-mode="personal"] .process-title .accent,
[data-mode="personal"] .contact-title .accent {
  color: var(--accent-color-override, #FF5B00) !important;
  text-shadow: 0 0 15px rgba(255, 91, 0, 0.4) !important;
}

/* ================================
   GLOBAL & LAYOUT FIXES
   ================================ */

html, body {
  overflow-x: hidden !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@supports (-webkit-touch-callout: none) {
  body { min-height: -webkit-fill-available; }
}

@media (max-width: 968px) {/* FORCE ALL ELEMENTS TO STAY IN BOUNDS */
* {
  max-width: 100vw;
}

img, video, canvas, svg {
  max-width: 100%;
  height: auto;
}

/* Contain all sections */
section, .section-wrapper, main, article {
  max-width: 100vw !important;
  overflow-x: hidden !important;
}
  section {
    padding-top: 80px !important;
    padding-bottom: 80px !important;
    padding-left: 20px !important;
    padding-right: 20px !important;
  }
  h1, .hero-title, .pro-title { font-size: clamp(2.5rem, 10vw, 4rem) !important; }
  h2, .section-title { font-size: clamp(2rem, 8vw, 3rem) !important; }
}

/* ================================
   NAVIGATION (NAME RESTORED)
   ================================ */

@media (max-width: 968px) {
  .nav-inner {
    padding: 12px 20px !important;
    grid-template-columns: auto 1fr auto !important; /* [Brand] [Toggle] [Socials] */
  }
  .brand-status { display: none !important; }
}

/* ✅ FIX: YOUR NAME IS ALWAYS VISIBLE. Other elements shrink. */
@media (max-width: 640px) {
  .nav-inner {
    grid-template-columns: auto 1fr auto !important;
    gap: 10px;
    padding: 10px 16px !important;
  }
  .brand-text {
    display: inline-block !important; /* Ensures your name is always visible */
    font-size: 1rem !important;
    white-space: nowrap;
  }
  .brand-dot {
    flex-shrink: 0;
  }
  .toggle-label {
    display: none; /* Hide "Technical" and "Creative" text to save space */
  }
  .toggle-option {
    padding: 8px 12px !important; /* Make buttons smaller for icons only */
  }
  .icon-btn {
    width: 36px;
    height: 36px;
  }
}

/* ================================
   PROFESSIONAL PAGE
   ================================ */

@media (max-width: 768px) {
  .professional-hero, .pro-hero {
    padding-top: 180px !important;
    min-height: 90vh !important;
    justify-content: flex-start;
  }
  .floating-cert, .grid-overlay { display: none !important; }
  .education-section .help-desk-container { padding: 1rem !important; }
  .skills-section .network-diagram,
  .tools-section .topology-diagram { transform: scale(0.8) !important; }
  .projects-section .server-rack-layout { grid-template-columns: 1fr !important; }
  .about-section .about-content { grid-template-columns: 1fr !important; }
  .experience-timeline .timeline-container { padding-left: 20px !important; }
  .experience-timeline .timeline-item { padding-left: 30px !important; }
  .experience-timeline .timeline-dot { left: -8px !important; }
}

/* ================================
   PERSONAL PAGE
   ================================ */

@media (max-width: 968px) {
  .personal-hero {
    padding-top: 180px !important;
    min-height: 90vh !important;
  }
  .floating-logo, .impossible-geometry, .hero-geometric, .liquid-blob-canvas { display: none !important; }
  .marquee-container { transform: none !important; }
  .marquee-card { width: 300px !important; height: 220px !important; }
  .marquee-content { animation-duration: 80s !important; }
  .services-grid { grid-template-columns: 1fr !important; }
  .universe-canvas { height: 220px !important; }
  .particle-field, .planet { box-shadow: none !important; }
  .orbit { animation-duration: 25s !important; }
  .constellation-container { height: 500px !important; }
  .tool-orbit { transform: scale(0.6) !important; }
  .core-pulse, .supernova-flash, .particle-burst, .connection-line, .hover-pulse { display: none !important; }
  .tool-info-card.compact {
    position: fixed !important; bottom: 20px !important; left: 50% !important;
    right: auto !important; top: auto !important; transform: translateX(-50%) !important;
    width: calc(100% - 32px) !important; max-width: 380px !important;
  }
  .card-arrow { display: none !important; }
  .process-content { grid-template-columns: 1fr !important; }
  .process-visual { order: -1; }
  .process-text { text-align: center; }
  .process-values { grid-template-columns: 1fr !important; max-width: 400px; margin: 0 auto 2rem; }
  .process-cta { margin: 0 auto; }
  .contact-form-wrapper { grid-template-columns: 1fr !important; }
  .contact-info { position: relative !important; top: 0 !important; }
}

@media (max-width: 600px) {
  .contact-form input, .contact-form textarea { font-size: 16px !important; }
  .tool-orbit { transform: scale(0.5) !important; }
}

/* --- Portfolio Section Specific --- */
@media (max-width: 1200px) {
  .portfolio-split { grid-template-columns: 1fr !important; gap: 60px !important; justify-items: center; }
  .right-content { order: 1; text-align: center; align-items: center; }
  .left-cards { order: 2; width: 100%; display: flex; justify-content: center; }
  .cardswap-wrapper.split { margin: 0 auto; width: 100%; max-width: 500px; min-height: 520px; }
}
@media (max-width: 600px) {
  .cardswap-wrapper.split { transform: scale(0.9); min-height: 480px; }
}

/* ================================
   REDUCED MOTION & ACCESSIBILITY
   ================================ */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
/* Mobile safety for cascade */
@media (max-width: 860px){.cascade-card{margin:0 8px}}
